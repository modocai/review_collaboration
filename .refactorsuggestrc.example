# .refactorsuggestrc — project-level configuration for refactor-suggest.sh
# Copy this file to your project root as ".refactorsuggestrc" and customize.
# CLI arguments always take precedence over these values.

# Refactoring scope: auto | micro | module | layer | full (default: auto)
# auto = pick largest feasible scope based on token budget at startup
#   <75% used → module, 75-89% → micro, >=90% → error
# SCOPE="auto"

# Target branch to base the refactoring branch from (default: develop)
# TARGET_BRANCH="develop"

# Maximum analysis-fix iterations (default: unset, required via CLI)
# MAX_LOOP=3

# Maximum self-review sub-iterations per fix (default: 4, set 0 to disable)
# MAX_SUBLOOP=4

# Run analysis only, do not apply fixes (default: false)
# DRY_RUN=false

# Skip interactive confirmation for layer/full scope (default: false)
# AUTO_APPROVE=false

# Create a draft PR after completing all iterations (default: false)
# CREATE_PR=false

# Run review-loop automatically after PR creation (default: false)
# WITH_REVIEW=false

# Number of review-loop iterations when WITH_REVIEW=true (default: 4)
# REVIEW_LOOPS=4

# Path to active prompt templates (default: <script_dir>/../prompts/active)
# PROMPTS_DIR="./custom-prompts"

# ── Retry / Rate-Limit Settings ──────────────────────────────────────
# Max total wait (seconds) for a single CLI call to recover from rate limits (default: 7200)
# RETRY_MAX_WAIT=7200

# Initial backoff delay (seconds); doubles each retry, capped at 300s (default: 30)
# RETRY_INITIAL_WAIT=30

# Pre-flight budget check scope: micro (<90%) or module (<75%) (default: module)
# BUDGET_SCOPE="module"

# ── Diagnostic Logging ──────────────────────────────────────────────
# Save full Claude event stream (tool calls, reasoning) to .stream.jsonl files.
# Useful for debugging missed findings. (default: false)
# DIAGNOSTIC_LOG=false
